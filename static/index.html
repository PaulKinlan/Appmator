<!DOCTYPE html>
<html>
  <head>
    <title>Web app builder</title>
    <style>
    
    * {
      margin: 0;
      padding: 0;
    }
    
    body {
      background-color: #1F2434;
      color: white;
      height: 100%;
      width: 100%;
      margin: 0;
      display:block;
      position: absolute;
    }
    
    #all {
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-box-pack: start;
      -webkit-box-align: justify;
      height: 100%;
      width: 100%;
    }
    
    #header {
      -webkit-box-flex: 1;
      -webkit-box-orient: horizontal;
      -webkit-box-pack: justify;
      -webkit-box-align: center;
      padding: 5px;
      text-align: center;
    }
    
    input[type=url] {
      font-size: 2em;
      padding: 5px;
      width: 50%;
      border-radius: 5px;
    }
    
    #app {
      display: none;
      -webkit-box-flex: 1;
    }
        
    #download {
      -webkit-box-flex: 1;
      display: none;
    }
    
    #info {
      -webkit-box-flex: 1;
    }
    
    #info fieldset {
      
    }
    
    #app div {
      -webkit-box-flex: 1;
    }
    
    #manifest {
      height: 100%;
      width: 50%;
    }
    
    #manifest:hover {
      border: dotted 1px #ddd;
    }
    
    #images .image {
      border: solid 3px #ddd;
      border-radius: 5px;
      margin: 5px;
      width: 128px;
      height: 128px;
      float: left;
    }
    
    #app.visible {
      display: -webkit-box;
    }
    
    #download.visible {
      display: -webkit-box;
    }
    </style>
    <script src="/js/builder.js"></script>
    <script src="/js/thirdparty/jszip.js"></script>
    <script>
    (function() {
      window.addEventListener("DOMContentLoaded", function() {
        var start = document.getElementById("start");
        var icon16 = document.getElementById("icon16");
        var icon128 = document.getElementById("icon128");
        var output = document.getElementById("output");
        var notifications = document.getElementById("notifications");
        var unlimitedStorage = document.getElementById("unlimitedStorage");
        var geo = document.getElementById("geo");
        var manifest = document.getElementById("manifest");
        
        start.addEventListener("click", Builder.start);
        
        icon16.addEventListener("dragover", Builder.validateImage);
        icon128.addEventListener("dragover", Builder.validateImage);
        
        icon16.addEventListener("drop", Builder.dropImage);
        icon128.addEventListener("drop", Builder.dropImage);
        
        output.addEventListener("dragstart", Builder.dragZip);
        
        unlimitedStorage.addEventListener("click", Builder.togglePermission);
        geo.addEventListener("click", Builder.togglePermission);
        notifications.addEventListener("click", Builder.togglePermission);
        manifest.addEventListener("blur", Builder.parseManifest);
      });
    })();
    </script>
  </head>
  <body>
  <div id="all">
    <div id="header">
      <input type="url" id="url" value="" placeholder="Enter a url">
      <input type="button" id="start" value="Start">
    </div>
    <div id="app">
      <div id="info">
        <fieldset>
          <legend>Basic Information</legend>
          <label for="name">Name:</label><input id="name" type="text" placeholder="What is your app called?">
          <label for="description">Description:</label><input id="description" type="text" placeholder="What does your app do?">
          <label for="version">Version:</label><input id="version" type="text" placeholder="What is your application version number?">
        </fieldset>
         <fieldset id="images">
            <legend>Images</legend>
            <div class="image" id="icon128">Drop 128px Image Here</div>
            <div class="image" id="icon16">Drop 16px Image Here</div>
          </fieldset>
        <fieldset>
          <legend>Permissions: </legend>
            <label for="notifications">Notifications</label><input value="notifications" name="permissions" type="checkbox" id="notifications">
            <label for="unlimitedStorage">Unlimited Storage</label><input value="unlimitedStorage" name="permissions" type="checkbox" id="unlimitedStorage">
            <label for="geo">Geo-location</label><input value="geo" name="permissions" type="checkbox" id="geo">
        </fieldset>
        <fieldset>
          <legend>Launch Information</legend>
          <label for="launch">Launch Url:</label><input id="launch" type="text" placeholder="What is your application launch URL?">
          <label for="urls">Urls:</label><select id="urls"></select>
          <label for="launcher">Open as</label>
          <label for="newtab">New Tab</label><input value="tab" id="newtab" name="launcher" type="radio">
          <label for="newwindow">New Window</label><input value="window" id="newwindow" name="launcher" type="radio">
          <label for="newpanel">New Panel</label><input value="panel" id="newpanel" name="launcher" type="radio">
        </fieldset>
      </div>
      <div id="manifest" contenteditable>
        
      </div>
    </div>
    <div id="download">
      <h2>Output</h2>
      <img id="output" src="/images/zip.png">
      <p>Drag this to your Desktop</p>
    </div>
    </div>
  </body>
</html>